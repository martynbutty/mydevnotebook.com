<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.13">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Dev Notebook RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Dev Notebook Atom Feed">
<script src="/ga.js"></script><title data-react-helmet="true">Architecture Notes | My Dev Notebook</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://www.mydevnotebook.com/Architecture/Overview"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Architecture Notes | My Dev Notebook"><meta data-react-helmet="true" name="description" content="Architecture is about balancing requirements to try and come up with something that&#x27;s the least worst solution."><meta data-react-helmet="true" property="og:description" content="Architecture is about balancing requirements to try and come up with something that&#x27;s the least worst solution."><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://www.mydevnotebook.com/Architecture/Overview"><link data-react-helmet="true" rel="alternate" href="https://www.mydevnotebook.com/Architecture/Overview" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://www.mydevnotebook.com/Architecture/Overview" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.c20d7478.css">
<link rel="preload" href="/assets/js/runtime~main.a8267a48.js" as="script">
<link rel="preload" href="/assets/js/main.15c99e81.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/notebook.png" alt="My Dev Notebook Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/notebook.png" alt="My Dev Notebook Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">My Dev Notebook</b></a><a class="navbar__item navbar__link navbar__link--active" href="/">Tech Articles</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Welcome</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/Architecture/Overview">Architecture</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Architecture/Overview">Architecture Notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Architecture/caching">Caching Strategies (with a focus on microservices)</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/Agile/scrum-cheatsheet">Agile</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/Design Patterns and Principles/adapter">Design Patterns and Principles</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/Artificial Intelligence/ai">Artificial Intelligence</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog">Recent Blog Posts</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Architecture Notes</h1></header><p>Architecture is about balancing requirements to try and come up with something that&#x27;s the <strong>least worst</strong> solution. </p><p>In most systems, you can&#x27;t satisfy one architectual characterisitic without that having an impact on other characterisitcs. Search for <strong><em>&quot;ship called the Vasa&quot;</em></strong> for an example of what can go wrong if you try to do too much. </p><p>For example if you want your system to be highly secure, then you may have to sacrifice some performance becuase of the extra processing overhead of security concerns.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="anti-patterns">Anti-Patterns<a aria-hidden="true" class="hash-link" href="#anti-patterns" title="Direct link to heading">â€‹</a></h2><ul><li>Cover your assets - Avoiding making any decision for fear of making the wrong one</li><li>Groundhog day - nobody understands why a decision was made so it keeps getting discussed over and over (hint - ADR&#x27;s can help here)</li><li>Email driven architecture - People forget / lose / don&#x27;t know / didn&#x27;t read / weren&#x27;t around when an email about an architecture
decision was sent, therefore don&#x27;t implement it correctly (ADR&#x27;s can help here too!)</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="architecture-patterns">Architecture Patterns<a aria-hidden="true" class="hash-link" href="#architecture-patterns" title="Direct link to heading">â€‹</a></h2><p>CQRS is a pattern, but not a style. The difference spans from questions like &quot;is CQRS a pattern, and is microkernel
different from CQRS?&quot; I.e. you can deploy a <em>pattern</em> like CQRS into systems using the architectural <em>styles</em> like microservices,
space based, event driven and modular monolith etc.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="architectural-characteristics">Architectural Characteristics<a aria-hidden="true" class="hash-link" href="#architectural-characteristics" title="Direct link to heading">â€‹</a></h2><ul><li>A non-domain design consideration</li><li>Influences some structural aspect of the design</li><li>Critical or important to application success</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="architecture-styles">Architecture Styles<a aria-hidden="true" class="hash-link" href="#architecture-styles" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="service-based-architecture">Service Based Architecture<a aria-hidden="true" class="hash-link" href="#service-based-architecture" title="Direct link to heading">â€‹</a></h3><p>Is a hybrid of microservices. Well defined domains deployed as separate units. Shared data like modular monolith (unlike
microservices where each service owns its own data)</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="modular-monolith">Modular Monolith<a aria-hidden="true" class="hash-link" href="#modular-monolith" title="Direct link to heading">â€‹</a></h3><p>Becoming more popular. Single deployment unit with functionality grouped by domain. Popular with DDD.</p><p>Can be a good start point to get something out the door to prove it, save money, evolve the architecture or if you&#x27;re just
not sure if a distributed architecture will work.</p><p>Next step might be to move to <strong>service based architecture:</strong></p><ul><li>Take all the domain area&#x27;s (e.g. by namespace in code like app.customer.*)</li><li>Pull them individually out of the modular monolith so they&#x27;s an independently deployable unit of software (but shared DB maybe)</li><li>Look at each of these domains to see which could/should be deployed as single purpose functions (i.e. <strong>microservices</strong>)</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="monoliths">Monoliths<a aria-hidden="true" class="hash-link" href="#monoliths" title="Direct link to heading">â€‹</a></h3><p>Service oriented architecture (SOA) and Layered are still viable in the right place. Especially if using integrated communications between heterogeneous enterprise systems (eg an ESB). So a micro frontend using REST and JSON can invoke a request that goes all the way down to old
legacy &quot;stuff&quot; eg a Cobol mainframe / AS400 / C++, then it comes all the way back up the layers.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="event-driven">Event-Driven<a aria-hidden="true" class="hash-link" href="#event-driven" title="Direct link to heading">â€‹</a></h3><p>Is the latest hype, even though it&#x27;s a fairly old architecture style. It&#x27;s a <strong>reactive</strong> architecture, more complex and
non-deterministic. Workflows are pushing this trend. Lots of complexity like testing and event timing.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="space-based">Space Based<a aria-hidden="true" class="hash-link" href="#space-based" title="Direct link to heading">â€‹</a></h3><p>Comes from the computer science term <strong>tuple space</strong>. Multiple parallel processors with shared memory. Therefore all
transactional data is cached in memory and DB is not used in the interactions of transactional processing. Provides
highest volumes of elasticity, scalability and performance out of any of the architectural styles, because it removes
the DB limiting constraint (bottleneck).</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="microservices-challenge">Microservices Challenge<a aria-hidden="true" class="hash-link" href="#microservices-challenge" title="Direct link to heading">â€‹</a></h3><p>How to manage the transactionality when data is split between different bounded contexts?</p><p>Encapsulate business behaviour behind a platform, e.g. a group of microservices behind an API layer. The API layer can
have a slow rate of change, therefore introducing stability and reuse.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="hybrid-architecture">Hybrid Architecture<a aria-hidden="true" class="hash-link" href="#hybrid-architecture" title="Direct link to heading">â€‹</a></h3><p>Service based, microservices architecture. Where not all of a system have to be microservices. Do all the area&#x27;s meet the
characteristics of microservices?</p><p>Microservices-event driven (or event driven microservices)</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="distributed-architecture-consdierations">Distributed Architecture Consdierations<a aria-hidden="true" class="hash-link" href="#distributed-architecture-consdierations" title="Direct link to heading">â€‹</a></h2><h2 class="anchor anchorWithStickyNavbar_y2LR" id="the-fallacies-of-distributed-computing">The Fallacies of Distributed Computing<a aria-hidden="true" class="hash-link" href="#the-fallacies-of-distributed-computing" title="Direct link to heading">â€‹</a></h2><p>Suggested by L. Peter Deutsch and colleagues from Sun Microsystems in 1994, these fallacies still hold worthy consideration
today. <a href="https://en.wikipedia.org/wiki/Fallacies_of_distributed_computing" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Fallacies_of_distributed_computing</a> </p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="the-network-is-reliable">The Network is Reliable<a aria-hidden="true" class="hash-link" href="#the-network-is-reliable" title="Direct link to heading">â€‹</a></h3><p>Do not assume that the network is reliable, even though they have become more reliable over time, they remain generally
unreliable. Distributed architectures rely on the network for communication between services. Even though all the services
may be up and healthy, if they cannot communicate with each other the system as a whole may not be healthy. Make sure
to consider things like timeouts and circuit breakers to prevent phenomena like cascade failures.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="latency-is-zero">Latency is Zero<a aria-hidden="true" class="hash-link" href="#latency-is-zero" title="Direct link to heading">â€‹</a></h3><p>When you call some method in another service using something like REST or RPC, the measurment of time is usually in milliseconds.
Compare that to internal method calls where we&#x27;re measuring in nano or microseconds.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="service-granularity">Service Granularity<a aria-hidden="true" class="hash-link" href="#service-granularity" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="granularity-disintegrators">Granularity Disintegrators<a aria-hidden="true" class="hash-link" href="#granularity-disintegrators" title="Direct link to heading">â€‹</a></h3><p>Reasons to separate services</p><ul><li><strong>Service functionality</strong> (cohesion)</li><li><strong>Code volatility</strong> - do some parts not change much (examination of git hostory could inform?). Would a single service mean some aspect is down for
an unrelated change (e.g. deploy of something else)</li><li><strong>Scalability and Throughput</strong> - mean time to start (MTTS). Does one thing take a long time to start but others are
really quick?</li><li><strong>Fault Tolerance</strong> - If one aspect goes down a lot, it would take other aspects down that are grouped into the single
service - mean time to recovery (MTTR)</li><li><strong>Data Security</strong> - would one aspect benefit from more or greater security</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="granularity-integrators">Granularity Integrators<a aria-hidden="true" class="hash-link" href="#granularity-integrators" title="Direct link to heading">â€‹</a></h3><p>Favours monoliths. Converse of above granularity disintegrators, i.e. here are reasons to combine services</p><ul><li>DB transactions - Do you need ACID more than something else?</li><li>Workflow choreography - network, security and data latency. Big ball of &quot;distributed&quot; mud. E.g. few ms for security
processing, few more for network, more still for data, multiplied by &quot;n&quot; calls per second means a potential large
cumulative latency. This can become worse still if you need timeout-retries, data consistency considerations etc</li><li>Data dependencies - If two services need the same data, might they be better as a single service to avoid calling each
other and the data consistency problem therin</li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Welcome</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Architecture/caching"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Caching Strategies (with a focus on microservices)<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#anti-patterns" class="table-of-contents__link toc-highlight">Anti-Patterns</a></li><li><a href="#architecture-patterns" class="table-of-contents__link toc-highlight">Architecture Patterns</a></li><li><a href="#architectural-characteristics" class="table-of-contents__link toc-highlight">Architectural Characteristics</a></li><li><a href="#architecture-styles" class="table-of-contents__link toc-highlight">Architecture Styles</a><ul><li><a href="#service-based-architecture" class="table-of-contents__link toc-highlight">Service Based Architecture</a></li><li><a href="#modular-monolith" class="table-of-contents__link toc-highlight">Modular Monolith</a></li><li><a href="#monoliths" class="table-of-contents__link toc-highlight">Monoliths</a></li><li><a href="#event-driven" class="table-of-contents__link toc-highlight">Event-Driven</a></li><li><a href="#space-based" class="table-of-contents__link toc-highlight">Space Based</a></li><li><a href="#microservices-challenge" class="table-of-contents__link toc-highlight">Microservices Challenge</a></li><li><a href="#hybrid-architecture" class="table-of-contents__link toc-highlight">Hybrid Architecture</a></li></ul></li><li><a href="#distributed-architecture-consdierations" class="table-of-contents__link toc-highlight">Distributed Architecture Consdierations</a></li><li><a href="#the-fallacies-of-distributed-computing" class="table-of-contents__link toc-highlight">The Fallacies of Distributed Computing</a><ul><li><a href="#the-network-is-reliable" class="table-of-contents__link toc-highlight">The Network is Reliable</a></li><li><a href="#latency-is-zero" class="table-of-contents__link toc-highlight">Latency is Zero</a></li></ul></li><li><a href="#service-granularity" class="table-of-contents__link toc-highlight">Service Granularity</a><ul><li><a href="#granularity-disintegrators" class="table-of-contents__link toc-highlight">Granularity Disintegrators</a></li><li><a href="#granularity-integrators" class="table-of-contents__link toc-highlight">Granularity Integrators</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 MyDevNotebook.com. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.a8267a48.js"></script>
<script src="/assets/js/main.15c99e81.js"></script>
</body>
</html>